- [X] Create API similar to restcountries where user can input alpha2 or country and return country info and subdivisions.
- [X] CRON job that runs on schedule that polls iso3166-updates json on GCP to check for any updates in codes.
- [X] Add last updated section to readme.
- [X] Add latest updates section to reame - mention if they've been implemented or not.
- [X] Create software package via pypi.
- [X] Add demo of software using Python notebook, put on Google Colab.
- [X] Add front-end demo.
- [X] Check output of bandit and flake8 check.
- [X] Remove .DS_Store or pycache from repo.
- [X] Add code coverage.
- [X] Add green MIT logo to Readme (https://shields.io/category/license).
- [X] Add "python3 -m twine upload --repository testpypi dist/*" to test pypi workflow.
- [X] Update build/test workflow, similar to pySAR.
- [X] Add emojis to readme
- [X] Change "secrets.PY_PI..." to "secrets.PYPI...".
- [X] Add path-ignore keywords to GitHub Action.
- [X] Add type of subdivision to object.
- [X] Add alpha2 key to each entry in iso3166-2.json and min.json.
- [X] Go through iso3166 updates for 2019 - 2022 to double check they're included in json.
- [X] Add parent code to subdivison json
- [X] Reorder software metadata in setup.py to be in order of main func, create __description__ var.
- [X] Add spcae in between ISO3166
- [X] Reorder subdivision codes in json output - alphabetically and or numerically.
- [X] In unit tests, reorder subdivision names/codes arrays into alphabetcal/numerical order.
- [X] In subdivisions in json, add link to flag in iso3166-flag-icons, if no flag then null, skip if status code != 200.
- [X] Check for updates by calling export function and comparing new and old jsons.
- [X] Mention size of 2 json's in readme.
- [X] Remove all camel casing function names/vars, change to underscores and lowercase (https://peps.python.org/pep-0008/#function-and-variable-names).
- [X] Function, getSubdivisionNames(alpha2) - returns list of subdivision names. import iso3166_2 as iso, iso.subdivisions.getListofSubdivisionNames()
- [X] Function, getSubdivisionCodes(alpha2) - returns list of subdivision codes. import iso3166_2 as iso, iso.subdivisions.getListofSubdivisionCodes()
- [X] Lowercase keys in min json.
- [X] Remove name and subdivisions key from min json.
- [X] Add tqdm progress bar to getISO3166-2.py
- [X] Need to recall getISO3166-2.py when flag icon repo is public so flag url can be added to JSONs. 
- [X] When checking flag_url endpoints, try .svg then .jpg then .png then .gif. Need to update JSON file.
- [X] How long does getISO3166_2.py script take? 1h 56, 116 mins (update this on script rerun).
- [X] Fix pytest badge on readme.
- [X] Add lat and long for each subdivision using google maps api (https://github.com/googlemaps/google-maps-services-python). Recall script to implement.
- [X] Add latlng unit tests to check they are approximately correct - The latitude must be a number between -90 and 90 and the longitude between -180 and 180.
- [X] Add latlng examples and comments to readme.
- [X] Double check that no latlng of the jsons contain invalid values or []. Put any invalids to null.
- [X] Make ISO3166-2 info accessible via an API, similar to restcountries.
- [X] Create frontend API, hosted on Vercel. 
- [X] Frontend will pull iso3166-2.json from GCP Storage backend.
- [X] Implement some sort of update functionality that updates the iso3166-2.json for API every so often, use a CRON scheduler to call this update func every 3 - 6 months etc.
- [X] Mention frontend API in Readme, create readme for API documentation.
- [X] Country names with spaces arent working on API.
- [X] Run vulture library to search package and remove any unused code/vars.
- [X] Go over check_for_updates function, remove any instances of min object as it derives from main object.
- [X] In api unit tests, change test_request var to something more intuitive .
- [X] Reorder subdivision codes such that order doesn't go e.g. PA-1, PA-10, PA-2, PA,3 etc is incorrect.
- [X] In getISO3166_2.py script, add parameter in main func allowing user to pass in one or more alpha-2 codes to get data for.
- [X] Update all unit tests for line: "Expected output object of API to contain only the BJ key"
- [X] Adding multiple alpha-2 codes or names seperated by comma doesnt't return space.
- [X] Add test cases comments to test class.
- [X] subdivision_names() and subdvision_codes() functions can accept multiple alpha-2 codes as input - add unit tests for testing multiple.
- [X] Update API.md file to include new /name path.
- [X] If specific updates are made to a country's subdivision data then raise issue in iso3166-flag-icons repo from Cloud Function.
- [X] Maybe move check_for_update functions from GCP to Vercel to save money.
- [X] Add comment in iso3166.py script mentioning total number of countries currently supported.
- [X] Allow for multiple codes to be passed in using dot notation in __getitem__ func.
- [X] Go through attributes.md fields, see if can add more info to field description, e.g adding "(km^2)" to area field.
- [X] Set latlng attribute to 4 d.p for subdivisons.
- [X] Double check correct files are being uploaded to pacakge, use Manifest file.
- [X] In unit tests when testing languages, test against the list of all languages.
- [X] Split up build and test workflow into different sections such as build, linter etc.
- [X] Go through all unit tests, any tests that are wrapped in with.selfAssertRaises()... , remove var assignment and just call function.
- [X] Double check area attribute, should have no d.p, if so round up.
- [X] Finish messages with test case. 
- [X] If <10 alpha-2 codes input to export_iso3166_2 function then append to filename.
- [X] Double check, if no subdivisons etc for country then min.json shouldn't be exported.
- [X] Create colab notebook demo for software and API as well as get_all script.
- [X] If exporting 5 or less countries in get_iso3166_2.py script, don't show progress bar or elapsed time.
- [X] Double check softwre keywords on pypi, should there be spaces between keywords?
- [X] Test check-for-updates using subset of alpha-2 codes.
- [X] Might need to switch from Cloud Function to Compute Engine/Cloud Run as check-for-updates script takes ~2 hours to execute.
- [X] Double check Pypi package only contains wanted files/folders.
- [X] Double check check-for-updates func checks the values of each key and doesnt just check if key is present etc.
- [X] Rerun get_all script.
- [X] Reorder output JSON keys into alphabetical order.
- [X] In check-for-updates, don't save files to archive folder, return from function and upload object directly.
- [X] In check-for-updates yml, create, call and delete cloud func each time since it's only called every 3-6 months.
- [X] In check-for-updates instead of seperate Github repo env vars, just pass in single string of comma seperated repos.
- [X] In create_iisue, show before and after for each attribute.
- [X] Add iso3166-2.json filesize to readme.
- [X] Create GCP_architecture for check_for_updates readme showing Cloud Function, scheduler and bucket.
- [X] In check-for-updates, upload archive blob first.
- [X] If country doesnt have an attribute, add it to the dict and set to [] or {} - will have to recall script. Also need to update tests that do the len of output keys.
- [X] Change all comment underlining from "------" to "=======".
- [X] Fix self.attributes attribute in class.
- [X] Rerun script and update Cloud Storage object as well **.
- [X] Add some unit tests in for some country attributes that = NA.
- [X] Mention 36 data attributes supported.
- [X] Add 🧪 to test folders and desc
- [X] Add link for API documentation.
- [X] Add API section to readme.
- [X] Be able to return all country's that match a particular attribute value - update API unit tests to test such and update API.md.
- [X] Update check-for-updates scripts with new code in get_iso3166_2.py script - test it again.
- [X] Update API.md.
- [X] Mention in readme and iso3166-2 readme that "subdivision can be used interachangably with states/regions/provinces etc".
- [X] Read over and run get_.. notebook demo.
- [X] Mention that the library contains the flag info for each - from iso3166-flag-icons repo. In readme, add bullet pointed list of additional attributes incldued in object.
- [X] Reorder attributes file - include nested attributes.
- [X] 36 attributes and 28 sub attributes.
- [X] Run check-for-updates with a more optimised machine to allow it to fully execute in max timeout allowed.
- [X] Look at latest pycountry dataset was updated, go through iso3166-updates from that time checking if the updates communicatied are implemented in the ISO 3166-2 objects:
https://iso3166-updates.com/api/year/2022 - DZ (subdivisions added), ET (subdivison added), FI (subdivision name change), GB (subdision deletion, addition, amendment), ID (addition of 3 provinces), IQ (subdivison addition, parent code update), IS (deletion and addtion of subdivisions, change of full name?), KP, KZ, MX,  NP, NZ, PA, SI, TR.
https://iso3166-updates.com/api/year/2021 - 
https://iso3166-updates.com/api/year/2020 : up-to-date.
- [X] Add link to medium article on readme.
- [X] Add github release (need to make repo public first).
- [X] Check variable naming conventions.
- [X] Any references of other softwares, put in `` and add link to it.
- [X] GB-NIR, GB-ENG, GB-SCT and GB-WLS absent from GB subdivision entry.
- [X] Mention that repo only contains officially assigned code elements and XK. Doesn't contain exceptional and transitional reservetations. Doesn't contain exceptional reservations but some have been reassinged (AZ, GG, IM, JE).
- [X] Add wiki link to each country: https://en.wikipedia.org/wiki/List_of_ISO_3166_country_codes.
- [X] Update number of attributes - 36 -> 37.
- [X] Add more filter attribute unit tests for when dict of keys/vals passed in.
- [X] Make individual attributes per subdivision accessible via dot notation.
- [X] Update check-for-updates func.
- [X] Double check elapsed time for get_ function is correct.
- [X] Change latlng to latLng
- [X] Mention add_subdivision func allows you to add custom objects/subdivisions to object.
- [X] Reorder subdivision attributtes - name, type, parent_code, flag_url, latlng - reorder in add_subdivision_data.
- [X] Allow for a custom csv to be imported into add_subdivision function, allowing for adding a long list of subdivisions in one go (columns: country code, subdivision code, name, type, parent_code, latLng, flag_url). Creat custom folder to store all these, append date to csv file.
- [X] When adding object to main iso3166-2.json, should keep a copy of the object just in case, add to an archive folder. When running unit tests, if they all pass then we can delete the archive folder and iobjects. 
- [X] iso3166-2/iso3166-2-data/iso3166-2-copy.json <- file being edited with additional iso3166-2 data.
- [X] Add subdivisions CSV, add delete column that flags if a subdivision is to be deleted.
- [X] Add functionality such that you can change an existing subdivision code - add new code in brackets? - issue since countries are indexed by their subdivision codes.
- [X] Double check when adding "IQ,IQ-KR,Iqlīm Kūrdistān,Region,"IQ-AR, IQ-DA, IQ-SU"" via csv that the "" aren't added to the parent code section.
- [X] Am i testing all flag URLs are valid rather than just subsection?
- [X] Unit test for testing a country's parent code is in the list of subdivison codes.
- [X] Add local name key to object.
- [X] Update camel caseing on attributes.
- [X] Go through each subdivision name and double check its localName isnt name.
- [X] When running get_all script, create some functionality that automatically runs the csv files in order, making any additions/deletions/amendments to the object.
- [X] Unit test to check that no subdivision latLng's are None.
- [X] If subdivison code and name are both changing, need to put them as 2 seperate changes in the CSV, subdivision code first then name, e.g KZ-AST -> KZ-71 + name change Nur-Sultan -> Astana.
- [X] Create localName.csv - a CSV of all country's localnames/variants - open and parse in get_all script.
- [X] Add notes tab to subdivisions.csv that outlines the changes being made.
- [X] Add date Issued column to each row in subdivisions.csv - add in excel. Add before notes column.
- [X] Should attributes be accessible via dot notation? iso["GB-PEM].parent_code
- [X] Functions in iso3166_2.py were you can access all the attributes for a given ISO code. subdivision_parent_codes() - delete this?
- [X] Unit tests checking no subdivisions have a missing name, type or latlng
- [X] Go through exproted json file, validating changes have been made to file.
- [X] Remove AL-ABC.
- [X] Over 5000 subdivision codes
- [X] Remove attributes.md file and just put in readme.
- [X] Mention update to dir structure.
- [X] Double check what happens when we call the add_subdivision func on the same json file that has the stuff already added to it.
- [X] For delete and localNameSame columns in csv need to check if the column val ==1 and or None.
- [X] Execution of get_all script takes about 30 mins.
- [X] In update_subdivision func, keys aren't in same order, e.g KZ-31 vs KZ-33.
- [X] Some countries have localName = null, e.g kz-11, kz-15, kz-19 -  when changing subd code.
- [ ] Rejig get_all script once using iso3166-2 software - remove from requirements.txt.
- [X] Raise error if country code from subdivisions.csv not found in data object.
- [X] Rerun script after uploading to iso3166-flag-icons.
- [X] When reading in country and subd code in update_subdivision.csv - uppercase.
- [X] Add changes in subdivisions.csv to flag-icons repo.
- [X] Stop running geocoding api.
- [X] Skip get_all script until new one is implemented.
- [X] Reorder subdivisions.csv according to date, earliest first. Mention on readme that it's sorted by date.
- [X] Some countries not in correct order e.g PA-1, PA-10, PA-2
- [X] Need to manually remove code from Sweden's and PH country names/local names.
- [X] Update elapsed time - after iso3166-flag-icons repo.
- [X] Add tqdm to get_ script
- [X] Update filesize in readme.
- [X] Update readme, swap pycountry for iso3166-2.
- [X] When calling update_subdivisions() function, check order of attributes remains the same.
- [X] When calling local_names() function, check order of attributes remains the same.
- [X] For update_subdivisions(), check correct JSON is being used as input for the get_all script.
- [X] Run get script again but without gmaps.
- [X] Rerun script and run tests.
- [X] Mention # of tests and test cases (including skipped ones.)
- [X] Update metadata tests - similar to iso3166-updates.
- [X] Functionaltiy to add country/subdivision data in iso3166_2.py.
- [ ] Change functions to parameter typed (https://docs.python.org/3/library/typing.html).
- [X] Add search functionality that allows you to search by name.
- [X] In search functionality, add alpha_2 code to it.
- [ ] For localName, add different translations for subdivision names, use language code as key. If local name same as name then don't add language code keys.
- [ ] Convert localNames.csv into a json?
- [X] Double check # of test functions/cases after running them.
- [ ] Upload to conda: https://anaconda.org/conda-forge/pgeocode
- [X] iso3166-2.json in csv form.
- [X] Update table of contents.
- [X] Add tests for iso3166-2 CSV export.
- [X] Add to readme that some existing projects are inaccurate, outdated and or not maintained.
- [X] Update license.
- [X] Mention on readme that additional attributes for each subdivision will be available on the country-db repo including geonames ID, fips, area, population, regional translations etc. These are not included to try and reduce the size of the software and API, only including most useful info. Remove all the bloat that other repos have. Add a "What's in and what's out" section to readme, give examples e.g translations.
- [X] Add directories subsection to main readme and Table of contents.
- [X] If 1 subdivision code returned from class, return list not dict.
- [X] Remove subdivision_parent_codes() from iso3166_2.py
- [X] Mention for functions in iso3166_2 can return multiple data types depending if 1 or more country data is returned.
- [ ] Codecov.
- [X] Subdivision names not exporting in alphabetical order.
- [X] /subd examples on api.md.
- [X] Double check links on readme work.
- [X] In update_subdivisions() function, if not getting all data, skip over rows that aren't equal to input country codes.
- [X] Add /subd example to docs.
- [X] Multiple subdivisions not returning in API.
- [X] Add additional API tests for /subd, passing in multiple list of subdivisions.
- [X] Search via subdivision name - might need to update /name endpoint.
- [X] Update API.md for /subd endpoint.
- [X] Update API.md and unit tests.
- [X] Update comments of api test case.
- [ ] Add note mentioning interchangability of use of 'countries.'
- [X] In sofrware, search via numeric code as well - update unit tests.
- [X] Mention that searching via alpha-3 or numeric will return alpha-2.
- [X] In .subdivision_codes(), uppercase alpha input parameter.
- [X] In iso3166_2.py, change input param name from alpha2_code to alpha_code.
- [X] ES - for some subdivisions, spelling mistake in name (catalan names added but not english).
- [X] Update get_script, such that if a subdivision with a code that is already in the dataset is pulled, an error is raised with the existing and new subdivision details.
- [X] Update medium article.
- [X] Read over iso3166_2.py.
- [X] Read over non-api unit tests.
- [X] In sw, try searching for subdivision with comma in it.
- [X] In sw, in search function, add subdivision code as key when multiple subdivisions returned.
- [X] Query string parameter where you can set the likeness cutoff point, lowering the likeness threshold when searching for a name that might be in multiple subdivision names. Add api unit tests.
- [X] Change difflib to fuzzysearch for API and software. 
- [X] In iso3166_2.py, change "any" param to "likeness".
- [X] Play about with scorer ratio in thefuzz - mention in comments which scorer is being used.
- [X] Search funtionality should return dict objecr rather than list of dicts.
- [X] Rearrange Usage and API contents in readme?
- [X] Update /docs
- [X] In api docs, put API funcs all into one section.
- [X] Check order of sections in readme.
- [X] In workflows, change "Testing with unittest" to "Running unit tests"
- [X] Change setup.py to pyprojet.tml - https://packaging.python.org/en/latest/tutorials/packaging-projects/ - swap for setup.cfg
- [X] /iso3166_2_data not being included in package - incorrect filename in MANIFEST file.

Future Additions
----------------
- [ ] Build same iso3166-2 package for JS/TS - https://github.com/annexare/Countries, https://www.npmjs.com/package/iso-3166.
- [ ] Build frontend using jsVectorMap, dropdown and React etc.
- [ ] include boundary lat/lng for subdivisions - counttrydb
- [ ] Implement more info about each subdivision if possible - area, pop, capital, subdivision borders, subdivision bounds from maps api, subdivison names in their native language - country db.
- [ ] Pull request for django-countries (https://github.com/SmileyChris/django-countries/tree/main)
- [ ] Add geonames (geonames.org), openstreetmap relation ID, openstreetmap administrarive division level (https://wiki.openstreetmap.org/wiki/Key:admin%20level?uselang=en-GB), boundary (https://wiki.openstreetmap.org/wiki/Key:boundary?uselang=en-GB), FIPS code, to subdivisions.
- [X] Documentation on readthedocs: https://www.youtube.com/watch?v=3NUmOGVdjqk&list=PLPDCBPbzk1AYghqYazE7Cxt3p7edml8I7&index=6
- [X] Add readthedocs badge - [![Documentation Status](https://readthedocs.org/projects/ansicolortags/badge/?version=latest)](http://ansicolortags.readthedocs.io/?badge=latest). https://github.com/readthedocs-examples/awesome-read-the-docs#sphinx-projects
- [X] For new subdivision additions in Changes.md, add flags in iso3166-flag-icons repo.
- [ ] Search via lat and long and return subdivision data - find a tool that maps lat/lang to code (gmaps.reverse_geocode("56.503, 23.693")).
- [ ] Other useful geonames stuff (https://download.geonames.org/export/dump/allCountries.zip, https://download.geonames.org/export/dump/, https://download.geonames.org/export/dump/alternateNamesV2.zip )
- [ ] Add geoname IDs - countrydb.
- [X] Keep population of subdivisions seperate from main iso3166-2.
- [ ] Add localName from alternativeNames in https://download.geonames.org/export/dump/.
- [ ] For usage for API on docs, add examples for other languages - similar to https://countrystatecity.in/docs/api/states-by-country/.
- [ ] Add example Error and Not Found response - https://countrystatecity.in/docs/api/states-by-country/
- [ ] Add demo similar to https://dr5hn.github.io/countries-states-cities-database/. 
- [ ] Create PR for https://github.com/dr5hn/countries-states-cities-database - add up-to-date ISO 3166-2 data and flag icons from iso3166-flag-icons (https://github.com/dr5hn/countries-states-cities-database/blob/master/states.json).
- [ ] Add subregion for each subdivision.
- [X] Go over https://github.com/dr5hn/countries-states-cities-database.
- [X] Go over https://github.com/esosedi/3166.
- [X] Add readme for /docs, add process for building and uploading the docs.
<!-- https://github.com/smucode/react-world-flags -->